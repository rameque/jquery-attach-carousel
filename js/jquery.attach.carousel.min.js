(function(a){window.carousel=[];var b=function(d,c){this._name=(a(d).attr("id"))?a(d).attr("id"):a(d).attr("class").replace(/ /g,"_");this._instance=d;this.settings=c;this.methods=a.carousel.methods;a.extend(this.settings,c);return name};a.carousel={};a.carousel.settings={initPos:0,counter:true,transition:true,pager:true,linkBackCSS:"sprite-icons back",linkNextCSS:"sprite-icons next",patternCSS:"pattern",pagerCSS:"pager",linkback:'<a href="#back"></a>',linknext:'<a href="#next"></a>',container:"<ul></ul>",iterator:"<li></li>",pattern:"<div></div>",imagesSrc:[],withPattern:true,timer:false,reverse:true,_couterCarousel:0,scale:[],onChange:function(){},slide:0};a.carousel.services={};a.carousel.methods={init:function(e){e.settings.drawItem=true;a(e._instance).css("overflow","hidden");var k=a(e.settings.linkback).addClass(e.settings.linkBackCSS).addClass("ui-carousel-back back-"+e._name);var h=e.settings._container=a(e.settings.container).addClass("ui-carousel-container container-"+e._name);var j=a(e.settings.pattern).addClass(e.settings.patternCSS).addClass("ui-carousel-pattern pattern-"+e._name);var d=a(e.settings.linknext).addClass(e.settings.linkNextCSS).addClass("ui-carousel-next next-"+e._name);e.settings._limitImages=e.settings.imagesSrc.length-1;for(var f=0;f<=e.settings._limitImages;f++){var c=f*100;var g=a(e.settings.iterator).addClass("ui-iterator ui-iterator-"+e._name).css("left",c+"%").append("<div class='preloader'></div>");a(h).append(g)}a(e._instance).append(k);a(e._instance).append(a(h));a(e._instance).append(j);a(e._instance).append(d);if(e.settings.pager){a(e._instance).append('<div class="'+e.settings.pagerCSS+'"><span class="count">1</span>/<span class="total">'+e.settings.imagesSrc.length+"</span></div>")}e.settings.listIterator=a(h).find(".ui-iterator-"+e._name);a(e.settings.listIterator).each(function(i,l){e.methods.drawImages(i,l,e)});e.methods.validateCarouselUI(e)},drawImages:function(e,f,c){var g=c.settings.imagesSrc[e];var d=new Image();d.id=c._name+"-"+e;d.src=g;a(d).load(function(h){var k=c.settings.scale.length;a(this).fadeIn();a(f).append(this);a(this).parent().find(".preloader").remove();if(k>1){var l=c.settings.scale[e];var j=(l)?l:"auto";var i=(100-parseFloat(j))/2;if(j){a(this).css("margin-left",i+"%");a(this).css("width",j)}}})},validateCarouselUI:function(e){var d=0;a(e.settings.listIterator).each(function(g,h){var i=a(h);var f=d*100;i.css("left",f+"%");d++});e.settings._limitImages=d-1;a(e._instance).attr("pos",0);if(e.settings.initPos>0){a(e._instance).attr("pos",e.settings.initPos*(-1));var c=(100*e.settings.initPos)*(-1);e.methods.movePanel(c,e)}e.settings._reverse=false;a(".back-"+e._name).click(function(){var g=a(e._instance).attr("pos");if(g<0){g++;var f=(100*g);a(e._instance).attr("pos",g);e.methods.movePanel(f,e)}else{e.settings._reverse=false}});a(".next-"+e._name).click(function(){var g=a(e._instance).attr("pos");var h=parseInt(g,10)*(-1);if((g<=0)&&h<e.settings._limitImages){g--;var f=(100*g);a(e._instance).attr("pos",g);e.methods.movePanel(f,e)}else{if(e.settings.reverse){e.settings._reverse=true}else{var i=a(e._instance).find(".ui-carousel-container");i.css("left",0);a(e._instance).attr("pos",0);a(e._instance).find(".pager .count").html(1);e.settings._reverse=false}}});if(e.settings.timer){e.settings.intrevalID=setInterval(function(){e.methods.triggerMove(e)},e.settings.timer)}},triggerMove:function(c){if(!c.settings._reverse){a(".next-"+c._name).trigger("click")}else{a(".back-"+c._name).trigger("click")}},movePanel:function(e,d){var c=a(d._instance).attr("pos");var f=parseInt(c,10)*(-1);a(d._instance).find(".pager .count").html(f+1);var g=a(d._instance).find(".ui-carousel-container");if(!d.settings.transition){g.css("left",e+"%")}else{if(jQuery.easing.easeInBack){a(g).stop().animate({left:e+"%"},{duration:1000,easing:"easeOutExpo"})}else{a(g).stop().animate({left:e+"%"},1000,function(){})}}d.settings.onChange(f+1)},gotoSlide:function(h){var e=parseFloat(h.instance.settings.slide)-1;var d=h.instance;var c=e*(-1);var g=(e*100)*(-1);var f=a(d._instance).find(".ui-carousel-container");a(d._instance).find(".pager .count").html(h.instance.settings.slide);a(d._instance).attr("pos",c);if((c<=0)&&e<d.settings._limitImages){if(!d.settings.transition){f.css("left",$acLeft+"%")}else{if(jQuery.easing.easeInBack){a(f).stop().animate({left:g+"%"},{duration:1000,easing:"easeOutExpo"})}else{a(f).stop().animate({left:g+"%"},1000,function(){})}}}}};a.fn.carousel=function(e){var d=this;d.existCarousel=function(){var i=a(d);var h=d;a.each(window.carousel,function(j,k){var l=(i.attr("id"))?i.attr("id"):i.attr("class").replace(/ /g,"_");if(l==k._name){h=k}});return h};if(typeof e!="string"){var f=a.extend({},a.carousel.settings,e);var c=this;return this.each(function(){var h=a(this);if(h.attr("carousel")=="created"){c=d.existCarousel();a.extend(c.settings,e)}else{c=new b(h,f);h.attr("carousel","created");window.carousel.push(c);c.methods.init(c)}})}else{if(typeof e=="string"){c=d.existCarousel();
var g={};g.instance=c;g.options=e;return c.methods[e].apply(d,[g])}else{a.error("Method "+method+" does not exist on jQuery.tooltip")}}return false}})(jQuery);var attachCarousel=(function(){});window.attachCarousel=window.$attachCarousel=attachCarousel;